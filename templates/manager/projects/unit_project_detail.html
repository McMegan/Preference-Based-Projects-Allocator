{% extends 'manager/base.html' %}

{% load render_table from django_tables2 %}

{% block page_title %}{{ project.number }}: {{ project.name }}{% endblock %}
{% block extra_header %}
    <div class="my-3 mx-3 d-flex gap-3 flex-column">
        <div class="d-flex gap-3">
            <div class="fw-semibold">Project Number</div>
            <div>{{ project.number }}</div>
        </div>
        <div class="d-flex gap-3">
            <div class="fw-semibold">Project Name</div>
            <div>{{ project.name }}</div>
        </div>
        <div class="d-flex gap-3">
            <div class="fw-semibold">Group Size</div>
            <div>{{ project.min_students }} - {{ project.max_students }}</div>
        </div>
        {% if project.description %}
        <div class="d-flex gap-3">
            <div class="fw-semibold">Description</div>
            <div>{{ project.description }}</div>
        </div>
        {% endif %}
    </div>
    <div class="my-3 mx-3 d-flex gap-2 flex-wrap">
        <a class="btn btn-primary" href="{% url 'manager:unit-project-update' unit.id project.id %}">Edit</a>
        <a class="btn btn-danger" href="{% url 'manager:unit-project-remove' unit.id project.id %}">Remove</a>
    </div>
    <hr class="my-4">
{% endblock %}
{% block content %}
    {% if tables %}
    <ul class="nav nav-tabs border-0" id="tab" role="tablist">
        {% for table in tables %}
        {% if table and table.data %}
            <li class="nav-item" role="presentation">
                <button class="nav-link {% if forloop.first %}active{% endif %} fs-6" id="{{ table.id }}-tab" data-bs-toggle="tab" data-bs-target="#{{ table.id }}-tab-pane" type="button" role="tab" aria-controls="{{ table.id }}-tab-pane" aria-selected="{% if forloop.first %}true{% else %}false{% endif %}">{{ table.name }}</button>
            </li>
        {% endif %}
        {% endfor %}
    </ul>
    <div class="tab-content border rounded-bottom overflow-hidden" id="tabContent">
        {% for table in tables %}
        {% if table and table.data %}
        
            <div class="tab-pane fade {% if forloop.first %}show active{% endif %}" id="{{ table.id }}-tab-pane" role="tabpanel" aria-labelledby="{{ table.id }}-tab" tabindex="0">
                {% render_table table %}
            </div>
        {% endif %}
        {% endfor %}
    </div>
    {% endif %}
{% endblock %}